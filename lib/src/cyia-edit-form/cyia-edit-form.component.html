<div fxLayout="column" class="container" [formGroup]="form">
  <div mat-dialog-title class="title">
    {{data.title}}
  </div>
  <mat-dialog-content fxFlex="1 1 auto" fxLayoutAlign="start center" fxLayout="column">
    <div *ngFor="let item of config;let i=index" [fxFlexOrder]="item.sort" [ngSwitch]="item.type" class="control-container"
      ngClass.lt-sm="mb" ngClass.gt-xs="pc">
      <!-- input输入部分 -->
      <ng-container *ngSwitchCase="0">
        <mat-form-field class="input pos style">
          <span matPrefix>{{item.label}}</span>
          <input matInput placeholder="{{item.placeholder}}" formControlName="{{item.key}}" [type]="item.controlType||'text'">
        </mat-form-field>
      </ng-container>
      <!-- markdown -->
      <ng-container *ngSwitchCase="3">
        <mat-form-field class="markdown pos style">
          <span matPrefix>{{item.label}}</span>
          <textarea formControlName="{{item.key}}" matInput matTextareaAutosize [matTextareaAutosize]="true"></textarea>
          <markdown ngPreserveWhitespaces [data]="form.controls[item.key].value">
          </markdown>
        </mat-form-field>
      </ng-container>
      <!-- 上传单一 -->
      <ng-container *ngSwitchCase="4">
        <div class="fileimage pos style" fxLayout="row wrap" fxLayoutAlign="start center">
          <span matPrefix>{{item.label}}</span>
          <button mat-button fxFlex="1 1 auto">
            上传图片
            <cyia-upload4image [accept]="item.controlType"></cyia-upload4image>
          </button>
        </div>
      </ng-container>
      <!-- 上传多 -->
      <ng-container *ngSwitchCase="5">
        <div class="fileimage pos style" fxLayout="row wrap" fxLayoutAlign="start center">
          <span matPrefix>{{item.label}}</span>
          <button mat-button fxFlex="1 1 auto">
            上传图片
            <cyia-upload4image [accept]="item.controlType" [multiple]="true"></cyia-upload4image>
          </button>
        </div>
      </ng-container>
      <!-- 选择部分 -->
      <ng-container *ngSwitchCase="1">
        <mat-form-field class="select pos style">
          <span matPrefix>{{item.label}}</span>
          <mat-select placeholder="{{item.placeholder}}" formControlName="{{item.key}}">
            <mat-option *ngFor="let item of item.list" [value]="item.value">
              {{item.label}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </ng-container>
      <!-- 选择部分 -->
      <ng-container *ngSwitchCase="2">
        <mat-form-field class="select pos style">
          <span matPrefix>{{item.label}}</span>
          <mat-select placeholder="{{item.placeholder}}" formControlName="{{item.key}}" multiple>
            <mat-option *ngFor="let item of item.list" [value]="item.value">
              {{item.label}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </ng-container>
      <!-- 日期部分 -->
      <ng-container *ngSwitchCase="6">
        <mat-form-field class="select pos style">
          <span matPrefix>{{item.label}}</span>

          <cyia-datepicker formControlName="{{item.key}}" [matDatepicker]="picker" #cyiadate placeholder="{{item.placeholder}}"></cyia-datepicker>
          <mat-datepicker #picker></mat-datepicker>
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        </mat-form-field>
      </ng-container>
    </div>

  </mat-dialog-content>
  <mat-dialog-actions fxFlex="0 0 60px">
    <ng-container *ngFor="let item of data.buttons">

      <button mat-raised-button color="primary" type="button" (click)="submit()" class="noshadow" *ngIf="item.type=='submit'">{{item.label}}
      </button>

      <button mat-raised-button color="warn" mat-dialog-close class="noshadow" *ngIf="item.type=='cancel'">{{item.label}}
      </button>
    </ng-container>

  </mat-dialog-actions>
</div>
